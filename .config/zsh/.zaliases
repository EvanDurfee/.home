## Common aliases

# Enable colors
alias ls='ls --color=auto'
alias ll='ls -l'
alias la='ls -Al'
alias dir='dir --color=auto'
alias vdir='vdir --color=auto'
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'
alias ip='ip --color=auto'
alias diff='diff --color=auto'

# Colored Manpages
man() {
	LESS_TERMCAP_mb=$'\E[01;32m' \
	LESS_TERMCAP_md=$'\E[01;32m' \
	LESS_TERMCAP_me=$'\E[0m' \
	LESS_TERMCAP_se=$'\E[0m' \
	LESS_TERMCAP_so=$'\E[01;47;34m' \
	LESS_TERMCAP_ue=$'\E[0m' \
	LESS_TERMCAP_us=$'\E[01;36m' \
	GROFF_NO_SGR=1 \
	command man "$@"
}

bat() {
	# Read color-scheme info from $XDG_STATE_HOME/color-scheme
	# Requires another program to put state data there
	local color_scheme_file="${XDG_STATE_HOME:-"$HOME"/.local/state}"/color-scheme/variant
	local color_scheme_variant
	color_scheme_variant="$(cat "$color_scheme_file" 2>/dev/null)"
	local bat_theme=""
	case "$color_scheme_variant" in
		0)
#			bat_theme="OneHalfLight"
			bat_theme="Monokai Extended Light"
#			bat_theme="Tomorrow"
			;;
		1)
#			bat_theme="OneHalfDark"
			bat_theme="Monokai Extended"
#			bat_theme="Tomrrow Night"
			;;
	esac
	if [ -z "$bat_theme" ]; then
		command bat "$@"
	else
		command bat --theme "$bat_theme" "$@"
	fi
}


# Enable build-in scrolling for less if possible
# 
if [ "$(less --version | head --lines=1 | grep --only-matching -E "[0-9]+")" -ge 549 ]; then
	alias less="less -RF --mouse --wheel-lines=5"
else
	alias less="less -RF"
fi

# Better cp for COW supporting filesystems
alias cp='cp --reflink=auto'

# Enable alias expansion when using sudo
alias sudo='sudo '

# Exa
alias x='exa --all --long --header --group --group-directories-first'
alias xt='x --tree'

# saner defaults
#alias cp="cp -i"                                                # Confirm before overwriting something
#alias df='df -h'                                                # Human-readable sizes
#alias free='free -m'                                            # Show sizes in MB

alias userctl='systemctl --user'

alias cfg='/bin/git --git-dir=$HOME/.local/share/dotfiles --work-tree=$HOME'
alias cfg-update='cfg pull && cfg submodule update --init --recursive'

alias k='kubectl'
alias d='docker'
alias h='helm'
